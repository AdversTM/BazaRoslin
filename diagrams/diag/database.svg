<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1180px" preserveAspectRatio="none" style="width:1100px;height:1180px;background:#FFFFFF;" version="1.1" viewBox="0 0 1100 1180" width="1100px" zoomAndPan="magnify"><defs/><g><!--MD5=[20f4f4f53b3d72866c932d4b159a5684]
class IPlantStore--><g id="elem_IPlantStore"><rect codeLine="1" fill="#F1F1F1" height="312.1406" id="IPlantStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="379" x="26" y="7"/><ellipse cx="176.25" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M177.2031,19.6406 L177.2031,26.2969 L178.9219,26.2969 Q179.5313,26.2969 179.7969,26.5313 Q180.0625,26.7656 180.0625,27.1563 Q180.0625,27.5313 179.7969,27.7656 Q179.5313,28 178.9219,28 L173.7813,28 Q173.1719,28 172.9063,27.7656 Q172.6406,27.5313 172.6406,27.1406 Q172.6406,26.7656 172.9063,26.5313 Q173.1719,26.2969 173.7813,26.2969 L175.5,26.2969 L175.5,19.6406 L173.7813,19.6406 Q173.1719,19.6406 172.9063,19.4063 Q172.6406,19.1719 172.6406,18.7813 Q172.6406,18.4063 172.9063,18.1719 Q173.1719,17.9375 173.7813,17.9375 L178.9219,17.9375 Q179.5313,17.9375 179.7969,18.1719 Q180.0625,18.4063 180.0625,18.7813 Q180.0625,19.1719 179.7969,19.4063 Q179.5313,19.6406 178.9219,19.6406 L177.2031,19.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="196.75" y="28.7285">IPlantStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="27" x2="404" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="27" x2="404" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="32" y="65.5332">GetCategory(id:int) : Task&lt;ICategory?&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="32" y="83.1426">GetShop(id:int) : Task&lt;IShop?&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="32" y="100.752">GetOffers(plantId:int) : Task&lt;List&lt;IOffer&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="32" y="118.3613">GetPlants(userId:int) : Task&lt;List&lt;IPlant&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="32" y="135.9707">GetCategories() : Task&lt;List&lt;ICategory&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="32" y="153.5801">GetShops() : Task&lt;List&lt;IShop&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="32" y="171.1895">GetPlants() : Task&lt;List&lt;IPlant&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="32" y="188.7988">AddUserPlant(userId:int, plantId:int) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="32" y="206.4082">DeleteUserPlant(userId:int, plantId:int) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334" x="32" y="224.0176">GetRating(offerId:int, userId:int) : Task&lt;IOfferRating&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="32" y="241.627">SetRating(offerRating:IOfferRating) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="32" y="259.2363">GetOfferFollows(userId:int) : Task&lt;List&lt;IOfferFollow&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271" x="32" y="276.8457">IsFollow(offerId:int, userId:int) : Task&lt;bool&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="32" y="294.4551">SetFollow(offerId:int, userId:int, isFollow:bool) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367" x="32" y="312.0645">NewOfferFollow(offerId:int, userId:int) : Task&lt;IOfferFollow&gt;</text></g><!--MD5=[ee6f579344ae056d598819b7181f59b1]
class IUserStore--><g id="elem_IUserStore"><rect codeLine="18" fill="#F1F1F1" height="65.6094" id="IUserStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="242" x="255.5" y="1108"/><ellipse cx="338.25" cy="1124" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M339.2031,1120.6406 L339.2031,1127.2969 L340.9219,1127.2969 Q341.5313,1127.2969 341.7969,1127.5313 Q342.0625,1127.7656 342.0625,1128.1563 Q342.0625,1128.5313 341.7969,1128.7656 Q341.5313,1129 340.9219,1129 L335.7813,1129 Q335.1719,1129 334.9063,1128.7656 Q334.6406,1128.5313 334.6406,1128.1406 Q334.6406,1127.7656 334.9063,1127.5313 Q335.1719,1127.2969 335.7813,1127.2969 L337.5,1127.2969 L337.5,1120.6406 L335.7813,1120.6406 Q335.1719,1120.6406 334.9063,1120.4063 Q334.6406,1120.1719 334.6406,1119.7813 Q334.6406,1119.4063 334.9063,1119.1719 Q335.1719,1118.9375 335.7813,1118.9375 L340.9219,1118.9375 Q341.5313,1118.9375 341.7969,1119.1719 Q342.0625,1119.4063 342.0625,1119.7813 Q342.0625,1120.1719 341.7969,1120.4063 Q341.5313,1120.6406 340.9219,1120.6406 L339.2031,1120.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="358.75" y="1129.7285">IUserStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="256.5" x2="496.5" y1="1140" y2="1140"/><line style="stroke:#181818;stroke-width:0.5;" x1="256.5" x2="496.5" y1="1148" y2="1148"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="261.5" y="1166.5332">GetUser(login:string) : Task&lt;IUser?&gt;</text></g><!--MD5=[b3346cf8566373f1a093fb0132d341df]
class BaseDbRepository--><g id="elem_BaseDbRepository"><rect codeLine="21" fill="#F1F1F1" height="100.8281" id="BaseDbRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="329" x="105" y="769"/><ellipse cx="179.75" cy="785" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M181.9375,786.7656 L177.7969,786.7656 L177.375,787.7969 L177.7969,787.7969 Q178.4063,787.7969 178.6719,788.0313 Q178.9375,788.2656 178.9375,788.6563 Q178.9375,789.0313 178.6719,789.2656 Q178.4063,789.5 177.7969,789.5 L175.5,789.5 Q174.8906,789.5 174.6328,789.2656 Q174.375,789.0313 174.375,788.6406 Q174.375,788.2656 174.6484,788.0234 Q174.9219,787.7813 175.5469,787.7969 L178.2188,781.1406 L177.1094,781.1406 Q176.5,781.1406 176.2344,780.9063 Q175.9688,780.6719 175.9688,780.2813 Q175.9688,779.9063 176.2344,779.6719 Q176.5,779.4375 177.1094,779.4375 L180.7813,779.4375 L184.1719,787.7969 Q184.7656,787.7969 184.9531,787.9375 Q185.3438,788.2031 185.3438,788.6563 Q185.3438,789.0313 185.0859,789.2656 Q184.8281,789.5 184.2188,789.5 L181.9219,789.5 Q181.3125,789.5 181.0469,789.2656 Q180.7813,789.0313 180.7813,788.6406 Q180.7813,788.2656 181.0469,788.0313 Q181.3125,787.7969 181.9219,787.7969 L182.3438,787.7969 L181.9375,786.7656 Z M181.2188,785.0625 L179.8594,781.6875 L178.4844,785.0625 L181.2188,785.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="200.25" y="790.7285">BaseDbRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="51" x="386" y="766"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="387" y="779.457">TContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="106" x2="433" y1="801" y2="801"/><polygon fill="none" points="116,807,120,811,116,815,112,811" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="125" y="819.5332">Context : TContext «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="106" x2="433" y1="826.6094" y2="826.6094"/><polygon fill="#FFFF44" points="116,832.6094,120,836.6094,116,840.6094,112,836.6094" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="125" y="845.1426">UseContext(func:Func&lt;TContext, T&gt;) : Task&lt;T&gt;</text><polygon fill="#FFFF44" points="116,850.2188,120,854.2188,116,858.2188,112,854.2188" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="125" y="862.752">UseContext(action:Action&lt;TContext&gt;) : Task</text></g><!--MD5=[d3c92a744520b232cf8326c194af56c7]
class PlantDbRepository--><g id="elem_PlantDbRepository"><rect codeLine="26" fill="#F1F1F1" height="329.75" id="PlantDbRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="417" x="7" y="379"/><ellipse cx="152.25" cy="395" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M155.0156,390.875 Q155.1719,390.6563 155.3594,390.5469 Q155.5469,390.4375 155.7656,390.4375 Q156.1406,390.4375 156.375,390.6953 Q156.6094,390.9531 156.6094,391.5625 L156.6094,393.0156 Q156.6094,393.625 156.375,393.8906 Q156.1406,394.1563 155.7656,394.1563 Q155.4219,394.1563 155.2188,393.9531 Q155.0156,393.7656 154.9063,393.25 Q154.8594,392.8906 154.6719,392.7031 Q154.3438,392.3281 153.7344,392.1094 Q153.125,391.8906 152.5,391.8906 Q151.7344,391.8906 151.1016,392.2188 Q150.4688,392.5469 149.9766,393.2969 Q149.4844,394.0469 149.4844,395.0781 L149.4844,396.1719 Q149.4844,397.4063 150.375,398.2266 Q151.2656,399.0469 152.8594,399.0469 Q153.7969,399.0469 154.4531,398.7969 Q154.8438,398.6406 155.2656,398.2031 Q155.5313,397.9375 155.6797,397.8594 Q155.8281,397.7813 156.0313,397.7813 Q156.3594,397.7813 156.6172,398.0391 Q156.875,398.2969 156.875,398.6406 Q156.875,398.9844 156.5313,399.3906 Q156.0313,399.9688 155.2344,400.2969 Q154.1563,400.75 152.8594,400.75 Q151.3438,400.75 150.1406,400.125 Q149.1563,399.625 148.4688,398.5547 Q147.7813,397.4844 147.7813,396.2031 L147.7813,395.0469 Q147.7813,393.7188 148.3984,392.5703 Q149.0156,391.4219 150.1094,390.8047 Q151.2031,390.1875 152.4375,390.1875 Q153.1719,390.1875 153.8203,390.3516 Q154.4688,390.5156 155.0156,390.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="172.75" y="400.7285">PlantDbRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="423" y1="411" y2="411"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="423" y1="419" y2="419"/><ellipse cx="18" cy="430" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="27" y="437.5332">GetCategory(id:int) : Task&lt;ICategory?&gt;</text><ellipse cx="18" cy="447.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="27" y="455.1426">GetShop(id:int) : Task&lt;IShop?&gt;</text><ellipse cx="18" cy="465.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="27" y="472.752">GetOffers(plantId:int) : Task&lt;List&lt;IOffer&gt;&gt;</text><ellipse cx="18" cy="482.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="27" y="490.3613">GetPlants(userId:int) : Task&lt;List&lt;IPlant&gt;&gt;</text><ellipse cx="18" cy="500.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="27" y="507.9707">GetCategories() : Task&lt;List&lt;ICategory&gt;&gt;</text><ellipse cx="18" cy="518.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="27" y="525.5801">GetPlantCategories() : Task&lt;List&lt;IPlantCategory&gt;&gt;</text><ellipse cx="18" cy="535.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="27" y="543.1895">GetShops() : Task&lt;List&lt;IShop&gt;&gt;</text><ellipse cx="18" cy="553.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="27" y="560.7988">GetPlants() : Task&lt;List&lt;IPlant&gt;&gt;</text><ellipse cx="18" cy="570.875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="27" y="578.4082">AddUserPlant(userId:int, plantId:int) : Task</text><ellipse cx="18" cy="588.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="27" y="596.0176">DeleteUserPlant(userId:int, plantId:int) : Task</text><ellipse cx="18" cy="606.0938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="391" x="27" y="613.627">«async» GetRating(offerId:int, userId:int) : Task&lt;IOfferRating&gt;</text><ellipse cx="18" cy="623.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="27" y="631.2363">SetRating(offerRating:IOfferRating) : Task</text><ellipse cx="18" cy="641.3125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="27" y="648.8457">GetOfferFollows(userId:int) : Task&lt;List&lt;IOfferFollow&gt;&gt;</text><ellipse cx="18" cy="658.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271" x="27" y="666.4551">IsFollow(offerId:int, userId:int) : Task&lt;bool&gt;</text><ellipse cx="18" cy="676.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="27" y="684.0645">SetFollow(offerId:int, userId:int, isFollow:bool) : Task</text><ellipse cx="18" cy="694.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367" x="27" y="701.6738">NewOfferFollow(offerId:int, userId:int) : Task&lt;IOfferFollow&gt;</text></g><!--MD5=[1b3bd356f683f96f49e4b337631e5bd9]
class UserDbRepository--><g id="elem_UserDbRepository"><rect codeLine="46" fill="#F1F1F1" height="65.6094" id="UserDbRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="256" x="248.5" y="956"/><ellipse cx="314.75" cy="972" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M317.5156,967.875 Q317.6719,967.6563 317.8594,967.5469 Q318.0469,967.4375 318.2656,967.4375 Q318.6406,967.4375 318.875,967.6953 Q319.1094,967.9531 319.1094,968.5625 L319.1094,970.0156 Q319.1094,970.625 318.875,970.8906 Q318.6406,971.1563 318.2656,971.1563 Q317.9219,971.1563 317.7188,970.9531 Q317.5156,970.7656 317.4063,970.25 Q317.3594,969.8906 317.1719,969.7031 Q316.8438,969.3281 316.2344,969.1094 Q315.625,968.8906 315,968.8906 Q314.2344,968.8906 313.6016,969.2188 Q312.9688,969.5469 312.4766,970.2969 Q311.9844,971.0469 311.9844,972.0781 L311.9844,973.1719 Q311.9844,974.4063 312.875,975.2266 Q313.7656,976.0469 315.3594,976.0469 Q316.2969,976.0469 316.9531,975.7969 Q317.3438,975.6406 317.7656,975.2031 Q318.0313,974.9375 318.1797,974.8594 Q318.3281,974.7813 318.5313,974.7813 Q318.8594,974.7813 319.1172,975.0391 Q319.375,975.2969 319.375,975.6406 Q319.375,975.9844 319.0313,976.3906 Q318.5313,976.9688 317.7344,977.2969 Q316.6563,977.75 315.3594,977.75 Q313.8438,977.75 312.6406,977.125 Q311.6563,976.625 310.9688,975.5547 Q310.2813,974.4844 310.2813,973.2031 L310.2813,972.0469 Q310.2813,970.7188 310.8984,969.5703 Q311.5156,968.4219 312.6094,967.8047 Q313.7031,967.1875 314.9375,967.1875 Q315.6719,967.1875 316.3203,967.3516 Q316.9688,967.5156 317.5156,967.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="335.25" y="977.7285">UserDbRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="249.5" x2="503.5" y1="988" y2="988"/><line style="stroke:#181818;stroke-width:0.5;" x1="249.5" x2="503.5" y1="996" y2="996"/><ellipse cx="259.5" cy="1007" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="268.5" y="1014.5332">GetUser(login:string) : Task&lt;IUser?&gt;</text></g><!--MD5=[76897ce0e17bc508a9ed1d855fd51d35]
class BaseDbContext--><g id="elem_BaseDbContext"><rect codeLine="53" fill="#F1F1F1" height="118.4375" id="BaseDbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="447" x="582" y="104"/><ellipse cx="752.25" cy="120" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M754.4375,121.7656 L750.2969,121.7656 L749.875,122.7969 L750.2969,122.7969 Q750.9063,122.7969 751.1719,123.0313 Q751.4375,123.2656 751.4375,123.6563 Q751.4375,124.0313 751.1719,124.2656 Q750.9063,124.5 750.2969,124.5 L748,124.5 Q747.3906,124.5 747.1328,124.2656 Q746.875,124.0313 746.875,123.6406 Q746.875,123.2656 747.1484,123.0234 Q747.4219,122.7813 748.0469,122.7969 L750.7188,116.1406 L749.6094,116.1406 Q749,116.1406 748.7344,115.9063 Q748.4688,115.6719 748.4688,115.2813 Q748.4688,114.9063 748.7344,114.6719 Q749,114.4375 749.6094,114.4375 L753.2813,114.4375 L756.6719,122.7969 Q757.2656,122.7969 757.4531,122.9375 Q757.8438,123.2031 757.8438,123.6563 Q757.8438,124.0313 757.5859,124.2656 Q757.3281,124.5 756.7188,124.5 L754.4219,124.5 Q753.8125,124.5 753.5469,124.2656 Q753.2813,124.0313 753.2813,123.6406 Q753.2813,123.2656 753.5469,123.0313 Q753.8125,122.7969 754.4219,122.7969 L754.8438,122.7969 L754.4375,121.7656 Z M753.7188,120.0625 L752.3594,116.6875 L750.9844,120.0625 L753.7188,120.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="98" x="772.75" y="125.7285">BaseDbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="583" x2="1028" y1="136" y2="136"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="590" y="144"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="602" y="154.5332">«readonly» _connectionString : string</text><line style="stroke:#181818;stroke-width:0.5;" x1="583" x2="1028" y1="161.6094" y2="161.6094"/><ellipse cx="593" cy="172.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="168" x="602" y="180.1426">Current() : BaseDbContext</text><polygon fill="#FFFF44" points="593,185.2188,597,189.2188,593,193.2188,589,189.2188" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="602" y="197.752">BaseDbContext(connectionString:string)</text><polygon fill="#FFFF44" points="593,202.8281,597,206.8281,593,210.8281,589,206.8281" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="421" x="602" y="215.3613">«override» OnConfiguring(options:DbContextOptionsBuilder) : void</text></g><!--MD5=[b2f4ea8080f514364167514713c7f294]
class DbContext--><g id="elem_DbContext"><rect fill="#F1F1F1" height="48" id="DbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="459.5" y="520"/><ellipse cx="474.5" cy="536" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M477.2656,531.875 Q477.4219,531.6563 477.6094,531.5469 Q477.7969,531.4375 478.0156,531.4375 Q478.3906,531.4375 478.625,531.6953 Q478.8594,531.9531 478.8594,532.5625 L478.8594,534.0156 Q478.8594,534.625 478.625,534.8906 Q478.3906,535.1563 478.0156,535.1563 Q477.6719,535.1563 477.4688,534.9531 Q477.2656,534.7656 477.1563,534.25 Q477.1094,533.8906 476.9219,533.7031 Q476.5938,533.3281 475.9844,533.1094 Q475.375,532.8906 474.75,532.8906 Q473.9844,532.8906 473.3516,533.2188 Q472.7188,533.5469 472.2266,534.2969 Q471.7344,535.0469 471.7344,536.0781 L471.7344,537.1719 Q471.7344,538.4063 472.625,539.2266 Q473.5156,540.0469 475.1094,540.0469 Q476.0469,540.0469 476.7031,539.7969 Q477.0938,539.6406 477.5156,539.2031 Q477.7813,538.9375 477.9297,538.8594 Q478.0781,538.7813 478.2813,538.7813 Q478.6094,538.7813 478.8672,539.0391 Q479.125,539.2969 479.125,539.6406 Q479.125,539.9844 478.7813,540.3906 Q478.2813,540.9688 477.4844,541.2969 Q476.4063,541.75 475.1094,541.75 Q473.5938,541.75 472.3906,541.125 Q471.4063,540.625 470.7188,539.5547 Q470.0313,538.4844 470.0313,537.2031 L470.0313,536.0469 Q470.0313,534.7188 470.6484,533.5703 Q471.2656,532.4219 472.3594,531.8047 Q473.4531,531.1875 474.6875,531.1875 Q475.4219,531.1875 476.0703,531.3516 Q476.7188,531.5156 477.2656,531.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="488.5" y="541.7285">DbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="460.5" x2="556.5" y1="552" y2="552"/><line style="stroke:#181818;stroke-width:0.5;" x1="460.5" x2="556.5" y1="560" y2="560"/></g><!--MD5=[18b27ffe8cb597da86b64113350094db]
class PlantDbContext--><g id="elem_PlantDbContext"><rect codeLine="60" fill="#F1F1F1" height="118.4375" id="PlantDbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="425" x="593" y="485"/><ellipse cx="752.25" cy="501" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M755.0156,496.875 Q755.1719,496.6563 755.3594,496.5469 Q755.5469,496.4375 755.7656,496.4375 Q756.1406,496.4375 756.375,496.6953 Q756.6094,496.9531 756.6094,497.5625 L756.6094,499.0156 Q756.6094,499.625 756.375,499.8906 Q756.1406,500.1563 755.7656,500.1563 Q755.4219,500.1563 755.2188,499.9531 Q755.0156,499.7656 754.9063,499.25 Q754.8594,498.8906 754.6719,498.7031 Q754.3438,498.3281 753.7344,498.1094 Q753.125,497.8906 752.5,497.8906 Q751.7344,497.8906 751.1016,498.2188 Q750.4688,498.5469 749.9766,499.2969 Q749.4844,500.0469 749.4844,501.0781 L749.4844,502.1719 Q749.4844,503.4063 750.375,504.2266 Q751.2656,505.0469 752.8594,505.0469 Q753.7969,505.0469 754.4531,504.7969 Q754.8438,504.6406 755.2656,504.2031 Q755.5313,503.9375 755.6797,503.8594 Q755.8281,503.7813 756.0313,503.7813 Q756.3594,503.7813 756.6172,504.0391 Q756.875,504.2969 756.875,504.6406 Q756.875,504.9844 756.5313,505.3906 Q756.0313,505.9688 755.2344,506.2969 Q754.1563,506.75 752.8594,506.75 Q751.3438,506.75 750.1406,506.125 Q749.1563,505.625 748.4688,504.5547 Q747.7813,503.4844 747.7813,502.2031 L747.7813,501.0469 Q747.7813,499.7188 748.3984,498.5703 Q749.0156,497.4219 750.1094,496.8047 Q751.2031,496.1875 752.4375,496.1875 Q753.1719,496.1875 753.8203,496.3516 Q754.4688,496.5156 755.0156,496.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="772.75" y="506.7285">PlantDbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="594" x2="1017" y1="517" y2="517"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="601" y="525"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="171" x="613" y="535.5332">_current : PlantDbContext?</text><line style="stroke:#181818;stroke-width:0.5;" x1="594" x2="1017" y1="542.6094" y2="542.6094"/><polygon fill="#FFFF44" points="604,548.6094,608,552.6094,604,556.6094,600,552.6094" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="213" x="613" y="561.1426">«new» Current() : PlantDbContext</text><ellipse cx="604" cy="571.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="613" y="578.752">PlantDbContext(connectionString:string)</text><polygon fill="#FFFF44" points="604,583.8281,608,587.8281,604,591.8281,600,587.8281" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="399" x="613" y="596.3613">«override» OnModelCreating(modelBuilder:ModelBuilder) : void</text></g><!--MD5=[b8f2540aa4dd6bb1837454fa23f7d336]
class DbSet--><g id="elem_DbSet"><rect codeLine="66" fill="#F1F1F1" height="48" id="DbSet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="764.5" y="795.5"/><ellipse cx="779.5" cy="811.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M782.2656,807.375 Q782.4219,807.1563 782.6094,807.0469 Q782.7969,806.9375 783.0156,806.9375 Q783.3906,806.9375 783.625,807.1953 Q783.8594,807.4531 783.8594,808.0625 L783.8594,809.5156 Q783.8594,810.125 783.625,810.3906 Q783.3906,810.6563 783.0156,810.6563 Q782.6719,810.6563 782.4688,810.4531 Q782.2656,810.2656 782.1563,809.75 Q782.1094,809.3906 781.9219,809.2031 Q781.5938,808.8281 780.9844,808.6094 Q780.375,808.3906 779.75,808.3906 Q778.9844,808.3906 778.3516,808.7188 Q777.7188,809.0469 777.2266,809.7969 Q776.7344,810.5469 776.7344,811.5781 L776.7344,812.6719 Q776.7344,813.9063 777.625,814.7266 Q778.5156,815.5469 780.1094,815.5469 Q781.0469,815.5469 781.7031,815.2969 Q782.0938,815.1406 782.5156,814.7031 Q782.7813,814.4375 782.9297,814.3594 Q783.0781,814.2813 783.2813,814.2813 Q783.6094,814.2813 783.8672,814.5391 Q784.125,814.7969 784.125,815.1406 Q784.125,815.4844 783.7813,815.8906 Q783.2813,816.4688 782.4844,816.7969 Q781.4063,817.25 780.1094,817.25 Q778.5938,817.25 777.3906,816.625 Q776.4063,816.125 775.7188,815.0547 Q775.0313,813.9844 775.0313,812.7031 L775.0313,811.5469 Q775.0313,810.2188 775.6484,809.0703 Q776.2656,807.9219 777.3594,807.3047 Q778.4531,806.6875 779.6875,806.6875 Q780.4219,806.6875 781.0703,806.8516 Q781.7188,807.0156 782.2656,807.375 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="793.5" y="817.2285">DbSet</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="9" x="840.5" y="792.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="841.5" y="805.957">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="765.5" x2="845.5" y1="827.5" y2="827.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="765.5" x2="845.5" y1="835.5" y2="835.5"/></g><!--MD5=[f934449c955f757ac3ae6b309ab3717b]
class UserDbContext--><g id="elem_UserDbContext"><rect codeLine="77" fill="#F1F1F1" height="118.4375" id="UserDbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="425" x="593" y="930"/><ellipse cx="753.75" cy="946" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M756.5156,941.875 Q756.6719,941.6563 756.8594,941.5469 Q757.0469,941.4375 757.2656,941.4375 Q757.6406,941.4375 757.875,941.6953 Q758.1094,941.9531 758.1094,942.5625 L758.1094,944.0156 Q758.1094,944.625 757.875,944.8906 Q757.6406,945.1563 757.2656,945.1563 Q756.9219,945.1563 756.7188,944.9531 Q756.5156,944.7656 756.4063,944.25 Q756.3594,943.8906 756.1719,943.7031 Q755.8438,943.3281 755.2344,943.1094 Q754.625,942.8906 754,942.8906 Q753.2344,942.8906 752.6016,943.2188 Q751.9688,943.5469 751.4766,944.2969 Q750.9844,945.0469 750.9844,946.0781 L750.9844,947.1719 Q750.9844,948.4063 751.875,949.2266 Q752.7656,950.0469 754.3594,950.0469 Q755.2969,950.0469 755.9531,949.7969 Q756.3438,949.6406 756.7656,949.2031 Q757.0313,948.9375 757.1797,948.8594 Q757.3281,948.7813 757.5313,948.7813 Q757.8594,948.7813 758.1172,949.0391 Q758.375,949.2969 758.375,949.6406 Q758.375,949.9844 758.0313,950.3906 Q757.5313,950.9688 756.7344,951.2969 Q755.6563,951.75 754.3594,951.75 Q752.8438,951.75 751.6406,951.125 Q750.6563,950.625 749.9688,949.5547 Q749.2813,948.4844 749.2813,947.2031 L749.2813,946.0469 Q749.2813,944.7188 749.8984,943.5703 Q750.5156,942.4219 751.6094,941.8047 Q752.7031,941.1875 753.9375,941.1875 Q754.6719,941.1875 755.3203,941.3516 Q755.9688,941.5156 756.5156,941.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="774.25" y="951.7285">UserDbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="594" x2="1017" y1="962" y2="962"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="601" y="970"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="168" x="613" y="980.5332">_current : UserDbContext?</text><line style="stroke:#181818;stroke-width:0.5;" x1="594" x2="1017" y1="987.6094" y2="987.6094"/><polygon fill="#FFFF44" points="604,993.6094,608,997.6094,604,1001.6094,600,997.6094" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="210" x="613" y="1006.1426">«new» Current() : UserDbContext</text><ellipse cx="604" cy="1016.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="613" y="1023.752">UserDbContext(connectionString:string)</text><polygon fill="#FFFF44" points="604,1028.8281,608,1032.8281,604,1036.8281,600,1032.8281" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="399" x="613" y="1041.3613">«override» OnModelCreating(modelBuilder:ModelBuilder) : void</text></g><!--MD5=[0c2b1ab22876796d874e939f6f490a51]
link PlantDbRepository to BaseDbRepository--><g id="link_PlantDbRepository_BaseDbRepository"><path codeLine="44" d="M247.92,709.23 C250.65,723.04 253.3,736.45 255.76,748.89 " fill="none" id="PlantDbRepository-to-BaseDbRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="262.68,747.8,259.68,768.78,248.94,750.51,262.68,747.8" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="143.7756" y="758.0544">&lt;PlantDbContext&gt;</text></g><!--MD5=[281eb977caae317c40c45e5ed95c02df]
reverse link IPlantStore to PlantDbRepository--><g id="link_IPlantStore_PlantDbRepository"><path codeLine="45" d="M215.5,339.63 C215.5,352.67 215.5,365.8 215.5,378.76 " fill="none" id="IPlantStore-backto-PlantDbRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="208.5,339.25,215.5,319.25,222.5,339.25,208.5,339.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[76deb2c82033817187fde71d18dfa688]
reverse link BaseDbRepository to UserDbRepository--><g id="link_BaseDbRepository_UserDbRepository"><path codeLine="49" d="M312.26,887.43 C327.31,911 343.56,936.43 355.95,955.82 " fill="none" id="BaseDbRepository-backto-UserDbRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="306.18,890.92,301.31,870.3,317.98,883.39,306.18,890.92" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="194.7232" y="891.3624">&lt;UserDbContext&gt;</text></g><!--MD5=[fe39ca755cf291c6e05a6eb39e113412]
link UserDbRepository to IUserStore--><g id="link_UserDbRepository_IUserStore"><path codeLine="50" d="M376.5,1022.18 C376.5,1041.26 376.5,1065.9 376.5,1087.71 " fill="none" id="UserDbRepository-to-IUserStore" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="383.5,1087.87,376.5,1107.87,369.5,1087.87,383.5,1087.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2f8cf5cbef154cb09ce7109c0c5bff67]
link BaseDbContext to DbContext--><g id="link_BaseDbContext_DbContext"><path codeLine="59" d="M727.72,222.19 C678.82,261.98 617.3,318.36 575.5,379 C549.55,416.64 531.15,465.87 520.28,500.53 " fill="none" id="BaseDbContext-to-DbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="526.9,502.83,514.48,520,513.48,498.83,526.9,502.83" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1d78877ade29ff1dab2627bc7aa76642]
reverse link BaseDbContext to PlantDbContext--><g id="link_BaseDbContext_PlantDbContext"><path codeLine="68" d="M805.5,242.72 C805.5,314.87 805.5,420.04 805.5,484.86 " fill="none" id="BaseDbContext-backto-PlantDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="798.5,242.39,805.5,222.39,812.5,242.39,798.5,242.39" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="69" d="M724.7869,614.1981 C724.7869,614.1981 713.76,759.31 754.07,797.68 " fill="none" id="PlantDbContext-DbSet" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="764.35,806,759.8691,797.2295,760.4629,802.8551,754.8373,803.4489,764.35,806" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="760.4629" x2="754.25" y1="802.8551" y2="797.825"/><polygon fill="none" points="729.1,603,723.2108,607.1614,724.7869,614.1981,730.6762,610.0367,729.1,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="626.5546" y="801.9291">Categories&lt;Category&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="70" d="M747.8559,614.5753 C747.8559,614.5753 738.89,742.15 760.5,784.19 " fill="none" id="PlantDbContext-DbSet-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="767.22,795.46,766.049,785.681,764.6605,791.1648,759.1767,789.7763,767.22,795.46" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="764.6605" x2="760.56" y1="791.1648" y2="784.3"/><polygon fill="none" points="751.02,603,745.5795,607.733,747.8559,614.5753,753.2964,609.8424,751.02,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="768.0451" y="784.7899">Shops&lt;Shop&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="71" d="M771.0143,614.8445 C771.0143,614.8445 765.68,741.04 778.28,783.13 " fill="none" id="PlantDbContext-DbSet-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="782.62,795.46,783.405,785.6425,780.9599,790.7436,775.8588,788.2986,782.62,795.46" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="780.9599" x2="778.3" y1="790.7436" y2="783.2"/><polygon fill="none" points="772.94,603,768.029,608.2803,771.0143,614.8445,775.9253,609.5641,772.94,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="683.1226" y="784.7899">Plants&lt;Plant&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="72" d="M794.2041,614.9826 C794.2041,614.9826 792.47,740.12 796.52,782.31 " fill="none" id="PlantDbContext-DbSet-3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="798.02,795.46,800.9754,786.065,797.454,790.4921,793.0269,786.9707,798.02,795.46" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="797.454" x2="796.55" y1="790.4921" y2="782.545"/><polygon fill="none" points="794.85,603,790.5328,608.776,794.2041,614.9826,798.5212,609.2066,794.85,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="845.3255" y="784.7622">Offers&lt;Offer&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="73" d="M817.4422,614.9812 C817.4422,614.9812 819.3,740.12 815.01,782.31 " fill="none" id="PlantDbContext-DbSet-4" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="813.42,795.46,818.4697,787.0042,814.0192,790.496,810.5274,786.0455,813.42,795.46" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="814.0192" x2="814.975" y1="790.496" y2="782.555"/><polygon fill="none" points="816.77,603,813.1124,609.2146,817.4422,614.9812,821.0998,608.7665,816.77,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="839.7933" y="784.7899">PlantCategories&lt;PlantCategory&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="74" d="M840.6542,614.8381 C840.6542,614.8381 846.09,741.04 833.24,783.13 " fill="none" id="PlantDbContext-DbSet-5" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="828.82,795.46,835.6235,788.3387,830.5079,790.7535,828.0931,785.638,828.82,795.46" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="830.5079" x2="833.21" y1="790.7535" y2="783.225"/><polygon fill="none" points="838.69,603,835.7261,609.5738,840.6542,614.8381,843.6182,608.2643,838.69,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="854.6444" y="804.4933">UserPlants&lt;UserPlant&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="75" d="M863.802,614.5677 C863.802,614.5677 872.87,742.15 851.02,784.19 " fill="none" id="PlantDbContext-DbSet-6" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="844.22,795.46,852.2943,789.8203,846.803,791.1789,845.4444,785.6876,844.22,795.46" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="846.803" x2="850.935" y1="791.1789" y2="784.33"/><polygon fill="none" points="860.61,603,858.3501,609.8478,863.802,614.5677,866.0619,607.7198,860.61,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="854.3927" y="807.5422">OfferRatings&lt;OfferRating&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="76" d="M886.866,614.1892 C886.866,614.1892 897.93,759.74 857.04,797.97 " fill="none" id="PlantDbContext-DbSet-7" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="846.61,806.26,856.1443,803.7907,850.524,803.1486,851.166,797.5283,846.61,806.26" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="850.524" x2="856.79" y1="803.1486" y2="798.17"/><polygon fill="none" points="882.53,603,880.9683,610.04,886.866,614.1892,888.4277,607.1493,882.53,603" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="854.4447" y="819.4149">OfferFollows&lt;OfferFollow&gt;</text></g><!--MD5=[a22607a4b53cb99a9e557c8f1a074de1]
reverse link BaseDbContext to UserDbContext--><g id="link_BaseDbContext_UserDbContext"><path codeLine="83" d="M913.86,234.3 C960.58,271.16 1010.23,320.79 1035.5,379 C1093.9,513.54 1085.06,570.96 1035.5,709 C1003.63,797.77 929.94,878.45 874.5,929.95 " fill="none" id="BaseDbContext-backto-UserDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="909.47,239.76,897.83,222.05,917.97,228.63,909.47,239.76" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4eb2a14fbef3ecb89da0f953284b9421]
link DbSet to UserDbContext--><g id="link_DbSet_UserDbContext"><path codeLine="84" d="M805.5,856.84 C805.5,874.43 805.5,917.94 805.5,917.94 " fill="none" id="DbSet-UserDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="805.5,929.94,809.5,923.94,805.5,917.94,801.5,923.94,805.5,929.94" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="805.5,843.79,801.5,852.79,805.5,848.79,809.5,852.79,805.5,843.79" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="805.5" x2="805.5" y1="848.79" y2="856.79"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="719.5969" y="864.7928">Users&lt;User&gt;</text></g><!--MD5=[2ab9dbd78b67e3b861232e1c48d50f9c]
link PlantDbRepository to PlantDbContext--><g id="link_PlantDbRepository_PlantDbContext"><path codeLine="86" d="M397.7473,372.8941 C397.7473,372.8941 503.91,330.25 558,349 C630.29,374.06 697.47,429.94 743.54,475.49 " fill="none" id="PlantDbRepository-PlantDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="752.76,484.74,749.2459,475.5394,749.2327,481.1962,743.5759,481.183,752.76,484.74" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="749.2327" x2="743.585" y1="481.1962" y2="475.53"/><polygon fill="none" points="387.37,378.92,394.5673,379.3661,397.7473,372.8941,390.55,372.4479,387.37,378.92" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="698.5901" y="474.0326">Context</text></g><!--MD5=[c66fd15908277e1b234e8ae5fb0b3763]
link UserDbRepository to UserDbContext--><g id="link_UserDbRepository_UserDbContext"><path codeLine="87" d="M516.7,989 C516.7,989 559.01,989 579.63,989 " fill="none" id="UserDbRepository-UserDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="592.82,989,583.82,985,587.82,989,583.82,993,592.82,989" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="587.82" x2="579.82" y1="989" y2="989"/><polygon fill="none" points="504.7,989,510.7,993,516.7,989,510.7,985,504.7,989" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="540.1032" y="986.2312">Context</text></g><!--MD5=[9073355273cf3cd27f54b7757c047ed7]
@startuml
interface IPlantStore {
    GetCategory(id:int) : Task<ICategory?>
    GetShop(id:int) : Task<IShop?>
    GetOffers(plantId:int) : Task<List<IOffer>>
    GetPlants(userId:int) : Task<List<IPlant>>
    GetCategories() : Task<List<ICategory>>
    GetShops() : Task<List<IShop>>
    GetPlants() : Task<List<IPlant>>
    AddUserPlant(userId:int, plantId:int) : Task
    DeleteUserPlant(userId:int, plantId:int) : Task
    GetRating(offerId:int, userId:int) : Task<IOfferRating>
    SetRating(offerRating:IOfferRating) : Task
    GetOfferFollows(userId:int) : Task<List<IOfferFollow>>
    IsFollow(offerId:int, userId:int) : Task<bool>
    SetFollow(offerId:int, userId:int, isFollow:bool) : Task
    NewOfferFollow(offerId:int, userId:int) : Task<IOfferFollow>
}
interface IUserStore {
    GetUser(login:string) : Task<IUser?>
}
abstract class "BaseDbRepository"<TContext> {
    # Context : TContext <<get>>
    # UseContext(func:Func<TContext, T>) : Task<T>
    # UseContext(action:Action<TContext>) : Task
}
class PlantDbRepository {
    + GetCategory(id:int) : Task<ICategory?>
    + GetShop(id:int) : Task<IShop?>
    + GetOffers(plantId:int) : Task<List<IOffer>>
    + GetPlants(userId:int) : Task<List<IPlant>>
    + GetCategories() : Task<List<ICategory>>
    + GetPlantCategories() : Task<List<IPlantCategory>>
    + GetShops() : Task<List<IShop>>
    + GetPlants() : Task<List<IPlant>>
    + AddUserPlant(userId:int, plantId:int) : Task
    + DeleteUserPlant(userId:int, plantId:int) : Task
    + <<async>> GetRating(offerId:int, userId:int) : Task<IOfferRating>
    + SetRating(offerRating:IOfferRating) : Task
    + GetOfferFollows(userId:int) : Task<List<IOfferFollow>>
    + IsFollow(offerId:int, userId:int) : Task<bool>
    + SetFollow(offerId:int, userId:int, isFollow:bool) : Task
    + NewOfferFollow(offerId:int, userId:int) : Task<IOfferFollow>
}
"BaseDbRepository" "<PlantDbContext>" <|-u- PlantDbRepository
IPlantStore <|- - PlantDbRepository
class UserDbRepository {
    + GetUser(login:string) : Task<IUser?>
}
"BaseDbRepository" "<UserDbContext>" <|- - UserDbRepository
IUserStore <|-u- UserDbRepository


abstract class BaseDbContext {
    + {static} Current() : BaseDbContext
    - <<readonly>> _connectionString : string
    # BaseDbContext(connectionString:string)
    # <<override>> OnConfiguring(options:DbContextOptionsBuilder) : void
}
DbContext <|-u- BaseDbContext
class PlantDbContext {
    - {static} _current : PlantDbContext?
    # <<new>> {static} Current() : PlantDbContext
    + PlantDbContext(connectionString:string)
    # <<override>> OnModelCreating(modelBuilder:ModelBuilder) : void
}
class "DbSet"<T> {
}
BaseDbContext <|- - PlantDbContext
PlantDbContext o-d-> "Categories<Category>" "DbSet"
PlantDbContext o-d-> "Shops<Shop>" "DbSet"
PlantDbContext o-d-> "Plants<Plant>" "DbSet"
PlantDbContext o-d-> "Offers<Offer>" "DbSet"
PlantDbContext o-d-> "PlantCategories<PlantCategory>" "DbSet"
PlantDbContext o-d-> "UserPlants<UserPlant>" "DbSet"
PlantDbContext o-d-> "OfferRatings<OfferRating>" "DbSet"
PlantDbContext o-d-> "OfferFollows<OfferFollow>" "DbSet"
class UserDbContext {
    - {static} _current : UserDbContext?
    # <<new>> {static} Current() : UserDbContext
    + UserDbContext(connectionString:string)
    # <<override>> OnModelCreating(modelBuilder:ModelBuilder) : void
}
BaseDbContext <|- - UserDbContext
UserDbContext o-u-> "Users<User>" "DbSet"

PlantDbRepository o-> "Context" "PlantDbContext"
UserDbRepository o-> "Context" "UserDbContext"
@enduml

PlantUML version 1.2022.6(Tue Jun 21 19:34:49 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1250
Language: pl
Country: PL
--></g></svg>
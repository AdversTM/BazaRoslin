<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1180px" preserveAspectRatio="none" style="width:1554px;height:1180px;background:#FFFFFF;" version="1.1" viewBox="0 0 1554 1180" width="1554px" zoomAndPan="magnify"><defs/><g><!--MD5=[20f4f4f53b3d72866c932d4b159a5684]
class IPlantStore--><g id="elem_IPlantStore"><rect codeLine="1" fill="#F1F1F1" height="312.1406" id="IPlantStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="379" x="527" y="7"/><ellipse cx="677.25" cy="23" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M678.2031,19.6406 L678.2031,26.2969 L679.9219,26.2969 Q680.5313,26.2969 680.7969,26.5313 Q681.0625,26.7656 681.0625,27.1563 Q681.0625,27.5313 680.7969,27.7656 Q680.5313,28 679.9219,28 L674.7813,28 Q674.1719,28 673.9063,27.7656 Q673.6406,27.5313 673.6406,27.1406 Q673.6406,26.7656 673.9063,26.5313 Q674.1719,26.2969 674.7813,26.2969 L676.5,26.2969 L676.5,19.6406 L674.7813,19.6406 Q674.1719,19.6406 673.9063,19.4063 Q673.6406,19.1719 673.6406,18.7813 Q673.6406,18.4063 673.9063,18.1719 Q674.1719,17.9375 674.7813,17.9375 L679.9219,17.9375 Q680.5313,17.9375 680.7969,18.1719 Q681.0625,18.4063 681.0625,18.7813 Q681.0625,19.1719 680.7969,19.4063 Q680.5313,19.6406 679.9219,19.6406 L678.2031,19.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="70" x="697.75" y="28.7285">IPlantStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="528" x2="905" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="528" x2="905" y1="47" y2="47"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="533" y="65.5332">GetCategory(id:int) : Task&lt;ICategory?&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="533" y="83.1426">GetShop(id:int) : Task&lt;IShop?&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="533" y="100.752">GetOffers(plantId:int) : Task&lt;List&lt;IOffer&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="533" y="118.3613">GetPlants(userId:int) : Task&lt;List&lt;IPlant&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="533" y="135.9707">GetCategories() : Task&lt;List&lt;ICategory&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="533" y="153.5801">GetShops() : Task&lt;List&lt;IShop&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="533" y="171.1895">GetPlants() : Task&lt;List&lt;IPlant&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="533" y="188.7988">AddUserPlant(userId:int, plantId:int) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="533" y="206.4082">DeleteUserPlant(userId:int, plantId:int) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334" x="533" y="224.0176">GetRating(offerId:int, userId:int) : Task&lt;IOfferRating&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="533" y="241.627">SetRating(offerRating:IOfferRating) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="533" y="259.2363">GetOfferFollows(userId:int) : Task&lt;List&lt;IOfferFollow&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271" x="533" y="276.8457">IsFollow(offerId:int, userId:int) : Task&lt;bool&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="533" y="294.4551">SetFollow(offerId:int, userId:int, isFollow:bool) : Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367" x="533" y="312.0645">NewOfferFollow(offerId:int, userId:int) : Task&lt;IOfferFollow&gt;</text></g><!--MD5=[ee6f579344ae056d598819b7181f59b1]
class IUserStore--><g id="elem_IUserStore"><rect codeLine="18" fill="#F1F1F1" height="65.6094" id="IUserStore" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="242" x="1305.5" y="130"/><ellipse cx="1388.25" cy="146" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1389.2031,142.6406 L1389.2031,149.2969 L1390.9219,149.2969 Q1391.5313,149.2969 1391.7969,149.5313 Q1392.0625,149.7656 1392.0625,150.1563 Q1392.0625,150.5313 1391.7969,150.7656 Q1391.5313,151 1390.9219,151 L1385.7813,151 Q1385.1719,151 1384.9063,150.7656 Q1384.6406,150.5313 1384.6406,150.1406 Q1384.6406,149.7656 1384.9063,149.5313 Q1385.1719,149.2969 1385.7813,149.2969 L1387.5,149.2969 L1387.5,142.6406 L1385.7813,142.6406 Q1385.1719,142.6406 1384.9063,142.4063 Q1384.6406,142.1719 1384.6406,141.7813 Q1384.6406,141.4063 1384.9063,141.1719 Q1385.1719,140.9375 1385.7813,140.9375 L1390.9219,140.9375 Q1391.5313,140.9375 1391.7969,141.1719 Q1392.0625,141.4063 1392.0625,141.7813 Q1392.0625,142.1719 1391.7969,142.4063 Q1391.5313,142.6406 1390.9219,142.6406 L1389.2031,142.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="68" x="1408.75" y="151.7285">IUserStore</text><line style="stroke:#181818;stroke-width:0.5;" x1="1306.5" x2="1546.5" y1="162" y2="162"/><line style="stroke:#181818;stroke-width:0.5;" x1="1306.5" x2="1546.5" y1="170" y2="170"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="1311.5" y="188.5332">GetUser(login:string) : Task&lt;IUser?&gt;</text></g><!--MD5=[b3346cf8566373f1a093fb0132d341df]
class BaseDbRepository--><g id="elem_BaseDbRepository"><rect codeLine="21" fill="#F1F1F1" height="100.8281" id="BaseDbRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="329" x="941" y="112.5"/><ellipse cx="1015.75" cy="128.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1017.9375,130.2656 L1013.7969,130.2656 L1013.375,131.2969 L1013.7969,131.2969 Q1014.4063,131.2969 1014.6719,131.5313 Q1014.9375,131.7656 1014.9375,132.1563 Q1014.9375,132.5313 1014.6719,132.7656 Q1014.4063,133 1013.7969,133 L1011.5,133 Q1010.8906,133 1010.6328,132.7656 Q1010.375,132.5313 1010.375,132.1406 Q1010.375,131.7656 1010.6484,131.5234 Q1010.9219,131.2813 1011.5469,131.2969 L1014.2188,124.6406 L1013.1094,124.6406 Q1012.5,124.6406 1012.2344,124.4063 Q1011.9688,124.1719 1011.9688,123.7813 Q1011.9688,123.4063 1012.2344,123.1719 Q1012.5,122.9375 1013.1094,122.9375 L1016.7813,122.9375 L1020.1719,131.2969 Q1020.7656,131.2969 1020.9531,131.4375 Q1021.3438,131.7031 1021.3438,132.1563 Q1021.3438,132.5313 1021.0859,132.7656 Q1020.8281,133 1020.2188,133 L1017.9219,133 Q1017.3125,133 1017.0469,132.7656 Q1016.7813,132.5313 1016.7813,132.1406 Q1016.7813,131.7656 1017.0469,131.5313 Q1017.3125,131.2969 1017.9219,131.2969 L1018.3438,131.2969 L1017.9375,130.2656 Z M1017.2188,128.5625 L1015.8594,125.1875 L1014.4844,128.5625 L1017.2188,128.5625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="1036.25" y="134.2285">BaseDbRepository</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="51" x="1222" y="109.5"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="1223" y="122.957">TContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="942" x2="1269" y1="144.5" y2="144.5"/><polygon fill="none" points="952,150.5,956,154.5,952,158.5,948,154.5" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="961" y="163.0332">Context : TContext «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="942" x2="1269" y1="170.1094" y2="170.1094"/><polygon fill="#FFFF44" points="952,176.1094,956,180.1094,952,184.1094,948,180.1094" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="961" y="188.6426">UseContext(func:Func&lt;TContext, T&gt;) : Task&lt;T&gt;</text><polygon fill="#FFFF44" points="952,193.7188,956,197.7188,952,201.7188,948,197.7188" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="961" y="206.252">UseContext(action:Action&lt;TContext&gt;) : Task</text></g><!--MD5=[d3c92a744520b232cf8326c194af56c7]
class PlantDbRepository--><g id="elem_PlantDbRepository"><rect codeLine="26" fill="#F1F1F1" height="329.75" id="PlantDbRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="417" x="729" y="379"/><ellipse cx="874.25" cy="395" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M877.0156,390.875 Q877.1719,390.6563 877.3594,390.5469 Q877.5469,390.4375 877.7656,390.4375 Q878.1406,390.4375 878.375,390.6953 Q878.6094,390.9531 878.6094,391.5625 L878.6094,393.0156 Q878.6094,393.625 878.375,393.8906 Q878.1406,394.1563 877.7656,394.1563 Q877.4219,394.1563 877.2188,393.9531 Q877.0156,393.7656 876.9063,393.25 Q876.8594,392.8906 876.6719,392.7031 Q876.3438,392.3281 875.7344,392.1094 Q875.125,391.8906 874.5,391.8906 Q873.7344,391.8906 873.1016,392.2188 Q872.4688,392.5469 871.9766,393.2969 Q871.4844,394.0469 871.4844,395.0781 L871.4844,396.1719 Q871.4844,397.4063 872.375,398.2266 Q873.2656,399.0469 874.8594,399.0469 Q875.7969,399.0469 876.4531,398.7969 Q876.8438,398.6406 877.2656,398.2031 Q877.5313,397.9375 877.6797,397.8594 Q877.8281,397.7813 878.0313,397.7813 Q878.3594,397.7813 878.6172,398.0391 Q878.875,398.2969 878.875,398.6406 Q878.875,398.9844 878.5313,399.3906 Q878.0313,399.9688 877.2344,400.2969 Q876.1563,400.75 874.8594,400.75 Q873.3438,400.75 872.1406,400.125 Q871.1563,399.625 870.4688,398.5547 Q869.7813,397.4844 869.7813,396.2031 L869.7813,395.0469 Q869.7813,393.7188 870.3984,392.5703 Q871.0156,391.4219 872.1094,390.8047 Q873.2031,390.1875 874.4375,390.1875 Q875.1719,390.1875 875.8203,390.3516 Q876.4688,390.5156 877.0156,390.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="894.75" y="400.7285">PlantDbRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="730" x2="1145" y1="411" y2="411"/><line style="stroke:#181818;stroke-width:0.5;" x1="730" x2="1145" y1="419" y2="419"/><ellipse cx="740" cy="430" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249" x="749" y="437.5332">GetCategory(id:int) : Task&lt;ICategory?&gt;</text><ellipse cx="740" cy="447.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="749" y="455.1426">GetShop(id:int) : Task&lt;IShop?&gt;</text><ellipse cx="740" cy="465.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="749" y="472.752">GetOffers(plantId:int) : Task&lt;List&lt;IOffer&gt;&gt;</text><ellipse cx="740" cy="482.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="262" x="749" y="490.3613">GetPlants(userId:int) : Task&lt;List&lt;IPlant&gt;&gt;</text><ellipse cx="740" cy="500.4375" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="260" x="749" y="507.9707">GetCategories() : Task&lt;List&lt;ICategory&gt;&gt;</text><ellipse cx="740" cy="518.0469" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="324" x="749" y="525.5801">GetPlantCategories() : Task&lt;List&lt;IPlantCategory&gt;&gt;</text><ellipse cx="740" cy="535.6563" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="749" y="543.1895">GetShops() : Task&lt;List&lt;IShop&gt;&gt;</text><ellipse cx="740" cy="553.2656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="749" y="560.7988">GetPlants() : Task&lt;List&lt;IPlant&gt;&gt;</text><ellipse cx="740" cy="570.875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="749" y="578.4082">AddUserPlant(userId:int, plantId:int) : Task</text><ellipse cx="740" cy="588.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="749" y="596.0176">DeleteUserPlant(userId:int, plantId:int) : Task</text><ellipse cx="740" cy="606.0938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="391" x="749" y="613.627">«async» GetRating(offerId:int, userId:int) : Task&lt;IOfferRating&gt;</text><ellipse cx="740" cy="623.7031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="749" y="631.2363">SetRating(offerRating:IOfferRating) : Task</text><ellipse cx="740" cy="641.3125" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="342" x="749" y="648.8457">GetOfferFollows(userId:int) : Task&lt;List&lt;IOfferFollow&gt;&gt;</text><ellipse cx="740" cy="658.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271" x="749" y="666.4551">IsFollow(offerId:int, userId:int) : Task&lt;bool&gt;</text><ellipse cx="740" cy="676.5313" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="328" x="749" y="684.0645">SetFollow(offerId:int, userId:int, isFollow:bool) : Task</text><ellipse cx="740" cy="694.1406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367" x="749" y="701.6738">NewOfferFollow(offerId:int, userId:int) : Task&lt;IOfferFollow&gt;</text></g><!--MD5=[1b3bd356f683f96f49e4b337631e5bd9]
class UserDbRepository--><g id="elem_UserDbRepository"><rect codeLine="46" fill="#F1F1F1" height="65.6094" id="UserDbRepository" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="256" x="1239.5" y="511"/><ellipse cx="1305.75" cy="527" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1308.5156,522.875 Q1308.6719,522.6563 1308.8594,522.5469 Q1309.0469,522.4375 1309.2656,522.4375 Q1309.6406,522.4375 1309.875,522.6953 Q1310.1094,522.9531 1310.1094,523.5625 L1310.1094,525.0156 Q1310.1094,525.625 1309.875,525.8906 Q1309.6406,526.1563 1309.2656,526.1563 Q1308.9219,526.1563 1308.7188,525.9531 Q1308.5156,525.7656 1308.4063,525.25 Q1308.3594,524.8906 1308.1719,524.7031 Q1307.8438,524.3281 1307.2344,524.1094 Q1306.625,523.8906 1306,523.8906 Q1305.2344,523.8906 1304.6016,524.2188 Q1303.9688,524.5469 1303.4766,525.2969 Q1302.9844,526.0469 1302.9844,527.0781 L1302.9844,528.1719 Q1302.9844,529.4063 1303.875,530.2266 Q1304.7656,531.0469 1306.3594,531.0469 Q1307.2969,531.0469 1307.9531,530.7969 Q1308.3438,530.6406 1308.7656,530.2031 Q1309.0313,529.9375 1309.1797,529.8594 Q1309.3281,529.7813 1309.5313,529.7813 Q1309.8594,529.7813 1310.1172,530.0391 Q1310.375,530.2969 1310.375,530.6406 Q1310.375,530.9844 1310.0313,531.3906 Q1309.5313,531.9688 1308.7344,532.2969 Q1307.6563,532.75 1306.3594,532.75 Q1304.8438,532.75 1303.6406,532.125 Q1302.6563,531.625 1301.9688,530.5547 Q1301.2813,529.4844 1301.2813,528.2031 L1301.2813,527.0469 Q1301.2813,525.7188 1301.8984,524.5703 Q1302.5156,523.4219 1303.6094,522.8047 Q1304.7031,522.1875 1305.9375,522.1875 Q1306.6719,522.1875 1307.3203,522.3516 Q1307.9688,522.5156 1308.5156,522.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="1326.25" y="532.7285">UserDbRepository</text><line style="stroke:#181818;stroke-width:0.5;" x1="1240.5" x2="1494.5" y1="543" y2="543"/><line style="stroke:#181818;stroke-width:0.5;" x1="1240.5" x2="1494.5" y1="551" y2="551"/><ellipse cx="1250.5" cy="562" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="1259.5" y="569.5332">GetUser(login:string) : Task&lt;IUser?&gt;</text></g><!--MD5=[76897ce0e17bc508a9ed1d855fd51d35]
class BaseDbContext--><g id="elem_BaseDbContext"><rect codeLine="53" fill="#F1F1F1" height="118.4375" id="BaseDbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="447" x="131" y="485"/><ellipse cx="301.25" cy="501" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M303.4375,502.7656 L299.2969,502.7656 L298.875,503.7969 L299.2969,503.7969 Q299.9063,503.7969 300.1719,504.0313 Q300.4375,504.2656 300.4375,504.6563 Q300.4375,505.0313 300.1719,505.2656 Q299.9063,505.5 299.2969,505.5 L297,505.5 Q296.3906,505.5 296.1328,505.2656 Q295.875,505.0313 295.875,504.6406 Q295.875,504.2656 296.1484,504.0234 Q296.4219,503.7813 297.0469,503.7969 L299.7188,497.1406 L298.6094,497.1406 Q298,497.1406 297.7344,496.9063 Q297.4688,496.6719 297.4688,496.2813 Q297.4688,495.9063 297.7344,495.6719 Q298,495.4375 298.6094,495.4375 L302.2813,495.4375 L305.6719,503.7969 Q306.2656,503.7969 306.4531,503.9375 Q306.8438,504.2031 306.8438,504.6563 Q306.8438,505.0313 306.5859,505.2656 Q306.3281,505.5 305.7188,505.5 L303.4219,505.5 Q302.8125,505.5 302.5469,505.2656 Q302.2813,505.0313 302.2813,504.6406 Q302.2813,504.2656 302.5469,504.0313 Q302.8125,503.7969 303.4219,503.7969 L303.8438,503.7969 L303.4375,502.7656 Z M302.7188,501.0625 L301.3594,497.6875 L299.9844,501.0625 L302.7188,501.0625 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="98" x="321.75" y="506.7285">BaseDbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="132" x2="577" y1="517" y2="517"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="139" y="525"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="151" y="535.5332">«readonly» _connectionString : string</text><line style="stroke:#181818;stroke-width:0.5;" x1="132" x2="577" y1="542.6094" y2="542.6094"/><ellipse cx="142" cy="553.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="168" x="151" y="561.1426">Current() : BaseDbContext</text><polygon fill="#FFFF44" points="142,566.2188,146,570.2188,142,574.2188,138,570.2188" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="151" y="578.752">BaseDbContext(connectionString:string)</text><polygon fill="#FFFF44" points="142,583.8281,146,587.8281,142,591.8281,138,587.8281" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="421" x="151" y="596.3613">«override» OnConfiguring(options:DbContextOptionsBuilder) : void</text></g><!--MD5=[b2f4ea8080f514364167514713c7f294]
class DbContext--><g id="elem_DbContext"><rect fill="#F1F1F1" height="48" id="DbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="305.5" y="139"/><ellipse cx="320.5" cy="155" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M323.2656,150.875 Q323.4219,150.6563 323.6094,150.5469 Q323.7969,150.4375 324.0156,150.4375 Q324.3906,150.4375 324.625,150.6953 Q324.8594,150.9531 324.8594,151.5625 L324.8594,153.0156 Q324.8594,153.625 324.625,153.8906 Q324.3906,154.1563 324.0156,154.1563 Q323.6719,154.1563 323.4688,153.9531 Q323.2656,153.7656 323.1563,153.25 Q323.1094,152.8906 322.9219,152.7031 Q322.5938,152.3281 321.9844,152.1094 Q321.375,151.8906 320.75,151.8906 Q319.9844,151.8906 319.3516,152.2188 Q318.7188,152.5469 318.2266,153.2969 Q317.7344,154.0469 317.7344,155.0781 L317.7344,156.1719 Q317.7344,157.4063 318.625,158.2266 Q319.5156,159.0469 321.1094,159.0469 Q322.0469,159.0469 322.7031,158.7969 Q323.0938,158.6406 323.5156,158.2031 Q323.7813,157.9375 323.9297,157.8594 Q324.0781,157.7813 324.2813,157.7813 Q324.6094,157.7813 324.8672,158.0391 Q325.125,158.2969 325.125,158.6406 Q325.125,158.9844 324.7813,159.3906 Q324.2813,159.9688 323.4844,160.2969 Q322.4063,160.75 321.1094,160.75 Q319.5938,160.75 318.3906,160.125 Q317.4063,159.625 316.7188,158.5547 Q316.0313,157.4844 316.0313,156.2031 L316.0313,155.0469 Q316.0313,153.7188 316.6484,152.5703 Q317.2656,151.4219 318.3594,150.8047 Q319.4531,150.1875 320.6875,150.1875 Q321.4219,150.1875 322.0703,150.3516 Q322.7188,150.5156 323.2656,150.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="334.5" y="160.7285">DbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="306.5" x2="402.5" y1="171" y2="171"/><line style="stroke:#181818;stroke-width:0.5;" x1="306.5" x2="402.5" y1="179" y2="179"/></g><!--MD5=[18b27ffe8cb597da86b64113350094db]
class PlantDbContext--><g id="elem_PlantDbContext"><rect codeLine="60" fill="#F1F1F1" height="118.4375" id="PlantDbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="425" x="9" y="769"/><ellipse cx="168.25" cy="785" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M171.0156,780.875 Q171.1719,780.6563 171.3594,780.5469 Q171.5469,780.4375 171.7656,780.4375 Q172.1406,780.4375 172.375,780.6953 Q172.6094,780.9531 172.6094,781.5625 L172.6094,783.0156 Q172.6094,783.625 172.375,783.8906 Q172.1406,784.1563 171.7656,784.1563 Q171.4219,784.1563 171.2188,783.9531 Q171.0156,783.7656 170.9063,783.25 Q170.8594,782.8906 170.6719,782.7031 Q170.3438,782.3281 169.7344,782.1094 Q169.125,781.8906 168.5,781.8906 Q167.7344,781.8906 167.1016,782.2188 Q166.4688,782.5469 165.9766,783.2969 Q165.4844,784.0469 165.4844,785.0781 L165.4844,786.1719 Q165.4844,787.4063 166.375,788.2266 Q167.2656,789.0469 168.8594,789.0469 Q169.7969,789.0469 170.4531,788.7969 Q170.8438,788.6406 171.2656,788.2031 Q171.5313,787.9375 171.6797,787.8594 Q171.8281,787.7813 172.0313,787.7813 Q172.3594,787.7813 172.6172,788.0391 Q172.875,788.2969 172.875,788.6406 Q172.875,788.9844 172.5313,789.3906 Q172.0313,789.9688 171.2344,790.2969 Q170.1563,790.75 168.8594,790.75 Q167.3438,790.75 166.1406,790.125 Q165.1563,789.625 164.4688,788.5547 Q163.7813,787.4844 163.7813,786.2031 L163.7813,785.0469 Q163.7813,783.7188 164.3984,782.5703 Q165.0156,781.4219 166.1094,780.8047 Q167.2031,780.1875 168.4375,780.1875 Q169.1719,780.1875 169.8203,780.3516 Q170.4688,780.5156 171.0156,780.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="188.75" y="790.7285">PlantDbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="10" x2="433" y1="801" y2="801"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="17" y="809"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="171" x="29" y="819.5332">_current : PlantDbContext?</text><line style="stroke:#181818;stroke-width:0.5;" x1="10" x2="433" y1="826.6094" y2="826.6094"/><polygon fill="#FFFF44" points="20,832.6094,24,836.6094,20,840.6094,16,836.6094" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="213" x="29" y="845.1426">«new» Current() : PlantDbContext</text><ellipse cx="20" cy="855.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="29" y="862.752">PlantDbContext(connectionString:string)</text><polygon fill="#FFFF44" points="20,867.8281,24,871.8281,20,875.8281,16,871.8281" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="399" x="29" y="880.3613">«override» OnModelCreating(modelBuilder:ModelBuilder) : void</text></g><!--MD5=[b8f2540aa4dd6bb1837454fa23f7d336]
class DbSet--><g id="elem_DbSet"><rect codeLine="66" fill="#F1F1F1" height="48" id="DbSet" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="82" x="180.5" y="947"/><ellipse cx="195.5" cy="963" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M198.2656,958.875 Q198.4219,958.6563 198.6094,958.5469 Q198.7969,958.4375 199.0156,958.4375 Q199.3906,958.4375 199.625,958.6953 Q199.8594,958.9531 199.8594,959.5625 L199.8594,961.0156 Q199.8594,961.625 199.625,961.8906 Q199.3906,962.1563 199.0156,962.1563 Q198.6719,962.1563 198.4688,961.9531 Q198.2656,961.7656 198.1563,961.25 Q198.1094,960.8906 197.9219,960.7031 Q197.5938,960.3281 196.9844,960.1094 Q196.375,959.8906 195.75,959.8906 Q194.9844,959.8906 194.3516,960.2188 Q193.7188,960.5469 193.2266,961.2969 Q192.7344,962.0469 192.7344,963.0781 L192.7344,964.1719 Q192.7344,965.4063 193.625,966.2266 Q194.5156,967.0469 196.1094,967.0469 Q197.0469,967.0469 197.7031,966.7969 Q198.0938,966.6406 198.5156,966.2031 Q198.7813,965.9375 198.9297,965.8594 Q199.0781,965.7813 199.2813,965.7813 Q199.6094,965.7813 199.8672,966.0391 Q200.125,966.2969 200.125,966.6406 Q200.125,966.9844 199.7813,967.3906 Q199.2813,967.9688 198.4844,968.2969 Q197.4063,968.75 196.1094,968.75 Q194.5938,968.75 193.3906,968.125 Q192.4063,967.625 191.7188,966.5547 Q191.0313,965.4844 191.0313,964.2031 L191.0313,963.0469 Q191.0313,961.7188 191.6484,960.5703 Q192.2656,959.4219 193.3594,958.8047 Q194.4531,958.1875 195.6875,958.1875 Q196.4219,958.1875 197.0703,958.3516 Q197.7188,958.5156 198.2656,958.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="209.5" y="968.7285">DbSet</text><rect fill="#FFFFFF" height="17.0938" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="9" x="256.5" y="944"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="7" x="257.5" y="957.457">T</text><line style="stroke:#181818;stroke-width:0.5;" x1="181.5" x2="261.5" y1="979" y2="979"/><line style="stroke:#181818;stroke-width:0.5;" x1="181.5" x2="261.5" y1="987" y2="987"/></g><!--MD5=[f934449c955f757ac3ae6b309ab3717b]
class UserDbContext--><g id="elem_UserDbContext"><rect codeLine="77" fill="#F1F1F1" height="118.4375" id="UserDbContext" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="425" x="142" y="1055"/><ellipse cx="302.75" cy="1071" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M305.5156,1066.875 Q305.6719,1066.6563 305.8594,1066.5469 Q306.0469,1066.4375 306.2656,1066.4375 Q306.6406,1066.4375 306.875,1066.6953 Q307.1094,1066.9531 307.1094,1067.5625 L307.1094,1069.0156 Q307.1094,1069.625 306.875,1069.8906 Q306.6406,1070.1563 306.2656,1070.1563 Q305.9219,1070.1563 305.7188,1069.9531 Q305.5156,1069.7656 305.4063,1069.25 Q305.3594,1068.8906 305.1719,1068.7031 Q304.8438,1068.3281 304.2344,1068.1094 Q303.625,1067.8906 303,1067.8906 Q302.2344,1067.8906 301.6016,1068.2188 Q300.9688,1068.5469 300.4766,1069.2969 Q299.9844,1070.0469 299.9844,1071.0781 L299.9844,1072.1719 Q299.9844,1073.4063 300.875,1074.2266 Q301.7656,1075.0469 303.3594,1075.0469 Q304.2969,1075.0469 304.9531,1074.7969 Q305.3438,1074.6406 305.7656,1074.2031 Q306.0313,1073.9375 306.1797,1073.8594 Q306.3281,1073.7813 306.5313,1073.7813 Q306.8594,1073.7813 307.1172,1074.0391 Q307.375,1074.2969 307.375,1074.6406 Q307.375,1074.9844 307.0313,1075.3906 Q306.5313,1075.9688 305.7344,1076.2969 Q304.6563,1076.75 303.3594,1076.75 Q301.8438,1076.75 300.6406,1076.125 Q299.6563,1075.625 298.9688,1074.5547 Q298.2813,1073.4844 298.2813,1072.2031 L298.2813,1071.0469 Q298.2813,1069.7188 298.8984,1068.5703 Q299.5156,1067.4219 300.6094,1066.8047 Q301.7031,1066.1875 302.9375,1066.1875 Q303.6719,1066.1875 304.3203,1066.3516 Q304.9688,1066.5156 305.5156,1066.875 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="323.25" y="1076.7285">UserDbContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="143" x2="566" y1="1087" y2="1087"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="150" y="1095"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="168" x="162" y="1105.5332">_current : UserDbContext?</text><line style="stroke:#181818;stroke-width:0.5;" x1="143" x2="566" y1="1112.6094" y2="1112.6094"/><polygon fill="#FFFF44" points="153,1118.6094,157,1122.6094,153,1126.6094,149,1122.6094" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="210" x="162" y="1131.1426">«new» Current() : UserDbContext</text><ellipse cx="153" cy="1141.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250" x="162" y="1148.752">UserDbContext(connectionString:string)</text><polygon fill="#FFFF44" points="153,1153.8281,157,1157.8281,153,1161.8281,149,1157.8281" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="399" x="162" y="1166.3613">«override» OnModelCreating(modelBuilder:ModelBuilder) : void</text></g><!--MD5=[5283a4e32070be0187ed4d6053dd4f26]
reverse link BaseDbRepository to PlantDbRepository--><g id="link_BaseDbRepository_PlantDbRepository"><path codeLine="44" d="M1075.36,231.98 C1057.18,273 1033.18,327.15 1010.3,378.76 " fill="none" id="BaseDbRepository-backto-PlantDbRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1069.03,229,1083.54,213.55,1081.83,234.67,1069.03,229" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="966.4001" y="234.9479">&lt;PlantDbContext&gt;</text></g><!--MD5=[281eb977caae317c40c45e5ed95c02df]
reverse link IPlantStore to PlantDbRepository--><g id="link_IPlantStore_PlantDbRepository"><path codeLine="45" d="M817.28,336.84 C825.42,350.79 833.63,364.87 841.73,378.76 " fill="none" id="IPlantStore-backto-PlantDbRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="811.05,340.05,807.03,319.25,823.15,333,811.05,340.05" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[76deb2c82033817187fde71d18dfa688]
reverse link BaseDbRepository to UserDbRepository--><g id="link_BaseDbRepository_UserDbRepository"><path codeLine="49" d="M1151.26,230.2 C1208.04,312.34 1302.58,449.09 1345.32,510.91 " fill="none" id="BaseDbRepository-backto-UserDbRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1145.37,233.98,1139.75,213.55,1156.88,226.02,1145.37,233.98" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1151.3398" y="234.9479">&lt;UserDbContext&gt;</text></g><!--MD5=[1105d1a997351e3eb4679ffacd4bd7cc]
reverse link IUserStore to UserDbRepository--><g id="link_IUserStore_UserDbRepository"><path codeLine="50" d="M1418.39,216.09 C1406,295.67 1382.73,445.18 1372.52,510.77 " fill="none" id="IUserStore-backto-UserDbRepository" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1411.48,215,1421.47,196.31,1425.31,217.15,1411.48,215" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[14ad7779ec255cd20edb411ff4a8640d]
reverse link DbContext to BaseDbContext--><g id="link_DbContext_BaseDbContext"><path codeLine="59" d="M354.5,207.27 C354.5,275.57 354.5,408.44 354.5,484.95 " fill="none" id="DbContext-backto-BaseDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="347.5,207.14,354.5,187.14,361.5,207.14,347.5,207.14" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1d78877ade29ff1dab2627bc7aa76642]
reverse link BaseDbContext to PlantDbContext--><g id="link_BaseDbContext_PlantDbContext"><path codeLine="68" d="M318.55,621.23 C296.61,667.74 269.01,726.26 248.86,768.99 " fill="none" id="BaseDbContext-backto-PlantDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="312.24,618.19,327.1,603.09,324.9,624.16,312.24,618.19" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="69" d="M130.113,899.1051 C130.113,899.1051 143.08,945.31 168.39,958.42 " fill="none" id="PlantDbContext-DbSet" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="180.45,963.59,173.7482,956.373,175.8529,961.6237,170.6021,963.7284,180.45,963.59" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="175.8529" x2="168.5" y1="961.6237" y2="958.465"/><polygon fill="none" points="131.26,887.16,126.7048,892.7502,130.113,899.1051,134.6682,893.5149,131.26,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="42.662" y="977.1414">Categories&lt;Category&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="70" d="M156.3456,899.133 C156.3456,899.133 161.43,933.59 171.33,946.42 " fill="none" id="PlantDbContext-DbSet-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="180.31,955.82,176.9898,946.5477,176.8579,952.203,171.2026,952.071,180.31,955.82" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="176.8579" x2="171.33" y1="952.203" y2="946.42"/><polygon fill="none" points="157.15,887.16,152.7568,892.8784,156.3456,899.133,160.7388,893.4146,157.15,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="89.4286" y="951.1225">Shops&lt;Shop&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="71" d="M182.5656,899.1506 C182.5656,899.1506 184.13,924.06 187.11,934.44 " fill="none" id="PlantDbContext-DbSet-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="191.68,946.77,192.3044,936.941,189.9431,942.0814,184.8026,939.72,191.68,946.77" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="189.9431" x2="187.165" y1="942.0814" y2="934.58"/><polygon fill="none" points="183.04,887.16,178.8059,892.9972,182.5656,899.1506,186.7997,893.3134,183.04,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="194.673" y="936.0512">Plants&lt;Plant&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="72" d="M208.7718,899.159 C208.7718,899.159 209.26,923.53 210.19,933.75 " fill="none" id="PlantDbContext-DbSet-3" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="211.75,946.77,214.6541,937.359,211.1569,941.8053,206.7106,938.3081,211.75,946.77" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="211.1569" x2="210.21" y1="941.8053" y2="933.86"/><polygon fill="none" points="208.93,887.16,204.8512,893.1067,208.7718,899.159,212.8505,893.2122,208.93,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="122.3859" y="936.0512">Offers&lt;Offer&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="73" d="M234.9814,899.1588 C234.9814,899.1588 234.46,923.53 233.47,933.75 " fill="none" id="PlantDbContext-DbSet-4" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="231.82,946.77,236.9158,938.3419,232.4463,941.8094,228.9788,937.3399,231.82,946.77" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="232.4463" x2="233.455" y1="941.8094" y2="933.87"/><polygon fill="none" points="234.81,887.16,230.8961,893.2165,234.9814,899.1588,238.8953,893.1023,234.81,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="270.6568" y="954.3451">PlantCategories&lt;PlantCategory&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="74" d="M261.1875,899.1501 C261.1875,899.1501 259.59,924.06 256.55,934.44 " fill="none" id="PlantDbContext-DbSet-5" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="251.9,946.77,258.819,939.7609,253.6647,942.0918,251.3338,936.9374,251.9,946.77" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="253.6647" x2="256.485" y1="942.0918" y2="934.605"/><polygon fill="none" points="260.7,887.16,256.9471,893.3175,261.1875,899.1501,264.9405,892.9925,260.7,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="270.7528" y="938.1548">UserPlants&lt;UserPlant&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="75" d="M287.4075,899.1321 C287.4075,899.1321 282.17,933.86 272.02,946.71 " fill="none" id="PlantDbContext-DbSet-6" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="262.81,956.11,271.9662,952.4818,266.3096,952.5389,266.2525,946.8824,262.81,956.11" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="266.3096" x2="271.91" y1="952.5389" y2="946.825"/><polygon fill="none" points="286.59,887.16,283.008,893.4186,287.4075,899.1321,290.9894,892.8736,286.59,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="270.6582" y="969.154">OfferRatings&lt;OfferRating&gt;</text></g><!--MD5=[2c63b5f2b6b2e87e57f2ef4457dd7255]
link PlantDbContext to DbSet--><g id="link_PlantDbContext_DbSet"><path codeLine="76" d="M313.627,899.1051 C313.627,899.1051 300.48,945.45 274.82,958.54 " fill="none" id="PlantDbContext-DbSet-7" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="262.59,963.69,272.4372,963.8725,267.1959,961.7443,269.3241,956.503,262.59,963.69" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="267.1959" x2="274.57" y1="961.7443" y2="958.64"/><polygon fill="none" points="312.48,887.16,309.0718,893.5149,313.627,899.1051,317.0352,892.7502,312.48,887.16" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="270.4234" y="977.2433">OfferFollows&lt;OfferFollow&gt;</text></g><!--MD5=[a22607a4b53cb99a9e557c8f1a074de1]
reverse link BaseDbContext to UserDbContext--><g id="link_BaseDbContext_UserDbContext"><path codeLine="83" d="M396.7,621.07 C417.7,663.27 440.83,717.49 451.5,769 C462.14,820.35 462.06,835.63 451.5,887 C439.21,946.81 410.38,1010.32 387.33,1054.73 " fill="none" id="BaseDbContext-backto-UserDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="390.43,624.18,387.57,603.18,402.9,617.81,390.43,624.18" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4eb2a14fbef3ecb89da0f953284b9421]
link DbSet to UserDbContext--><g id="link_DbSet_UserDbContext"><path codeLine="84" d="M252.66,1005.04 C264.08,1017.14 291.549,1046.2578 291.549,1046.2578 " fill="none" id="DbSet-UserDbContext" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="299.78,1054.99,298.5753,1047.8802,291.549,1046.2578,292.7538,1053.3676,299.78,1054.99" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="243.46,995.28,246.7225,1004.5728,246.8896,998.9184,252.544,999.0855,243.46,995.28" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="246.8896" x2="252.38" y1="998.9184" y2="1004.74"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="162.4284" y="1016.6862">Users&lt;User&gt;</text></g><!--MD5=[7274fbc8869fb14d7249a3e73ddd0c5b]
@startuml
interface IPlantStore {
    GetCategory(id:int) : Task<ICategory?>
    GetShop(id:int) : Task<IShop?>
    GetOffers(plantId:int) : Task<List<IOffer>>
    GetPlants(userId:int) : Task<List<IPlant>>
    GetCategories() : Task<List<ICategory>>
    GetShops() : Task<List<IShop>>
    GetPlants() : Task<List<IPlant>>
    AddUserPlant(userId:int, plantId:int) : Task
    DeleteUserPlant(userId:int, plantId:int) : Task
    GetRating(offerId:int, userId:int) : Task<IOfferRating>
    SetRating(offerRating:IOfferRating) : Task
    GetOfferFollows(userId:int) : Task<List<IOfferFollow>>
    IsFollow(offerId:int, userId:int) : Task<bool>
    SetFollow(offerId:int, userId:int, isFollow:bool) : Task
    NewOfferFollow(offerId:int, userId:int) : Task<IOfferFollow>
}
interface IUserStore {
    GetUser(login:string) : Task<IUser?>
}
abstract class "BaseDbRepository"<TContext> {
    # Context : TContext <<get>>
    # UseContext(func:Func<TContext, T>) : Task<T>
    # UseContext(action:Action<TContext>) : Task
}
class PlantDbRepository {
    + GetCategory(id:int) : Task<ICategory?>
    + GetShop(id:int) : Task<IShop?>
    + GetOffers(plantId:int) : Task<List<IOffer>>
    + GetPlants(userId:int) : Task<List<IPlant>>
    + GetCategories() : Task<List<ICategory>>
    + GetPlantCategories() : Task<List<IPlantCategory>>
    + GetShops() : Task<List<IShop>>
    + GetPlants() : Task<List<IPlant>>
    + AddUserPlant(userId:int, plantId:int) : Task
    + DeleteUserPlant(userId:int, plantId:int) : Task
    + <<async>> GetRating(offerId:int, userId:int) : Task<IOfferRating>
    + SetRating(offerRating:IOfferRating) : Task
    + GetOfferFollows(userId:int) : Task<List<IOfferFollow>>
    + IsFollow(offerId:int, userId:int) : Task<bool>
    + SetFollow(offerId:int, userId:int, isFollow:bool) : Task
    + NewOfferFollow(offerId:int, userId:int) : Task<IOfferFollow>
}
"BaseDbRepository" "<PlantDbContext>" <|- - PlantDbRepository
IPlantStore <|- - PlantDbRepository
class UserDbRepository {
    + GetUser(login:string) : Task<IUser?>
}
"BaseDbRepository" "<UserDbContext>" <|- - UserDbRepository
IUserStore <|- - UserDbRepository


abstract class BaseDbContext {
    + {static} Current() : BaseDbContext
    - <<readonly>> _connectionString : string
    # BaseDbContext(connectionString:string)
    # <<override>> OnConfiguring(options:DbContextOptionsBuilder) : void
}
DbContext <|- - BaseDbContext
class PlantDbContext {
    - {static} _current : PlantDbContext?
    # <<new>> {static} Current() : PlantDbContext
    + PlantDbContext(connectionString:string)
    # <<override>> OnModelCreating(modelBuilder:ModelBuilder) : void
}
class "DbSet"<T> {
}
BaseDbContext <|- - PlantDbContext
PlantDbContext o-d-> "Categories<Category>" "DbSet"
PlantDbContext o-d-> "Shops<Shop>" "DbSet"
PlantDbContext o-d-> "Plants<Plant>" "DbSet"
PlantDbContext o-d-> "Offers<Offer>" "DbSet"
PlantDbContext o-d-> "PlantCategories<PlantCategory>" "DbSet"
PlantDbContext o-d-> "UserPlants<UserPlant>" "DbSet"
PlantDbContext o-d-> "OfferRatings<OfferRating>" "DbSet"
PlantDbContext o-d-> "OfferFollows<OfferFollow>" "DbSet"
class UserDbContext {
    - {static} _current : UserDbContext?
    # <<new>> {static} Current() : UserDbContext
    + UserDbContext(connectionString:string)
    # <<override>> OnModelCreating(modelBuilder:ModelBuilder) : void
}
BaseDbContext <|- - UserDbContext
UserDbContext o-u-> "Users<User>" "DbSet"
@enduml

PlantUML version 1.2022.6(Tue Jun 21 19:34:49 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1250
Language: pl
Country: PL
--></g></svg>